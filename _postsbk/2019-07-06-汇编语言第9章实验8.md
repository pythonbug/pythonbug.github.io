---
layout: post
title:  "实验7"
date:   2019-07-18 18:28
categories: 《汇编语言》
tags: assembly 王爽
excerpt: 课后作业记录。
mathjax: true
---
### 代码如下
```
;编程：在屏幕中间分别显示绿色、绿底红色、白底蓝色的'welcome to masm!'
;我都想搞成闪烁高亮的
;闪烁高亮绿色前景：8AH
;闪烁高亮绿底红色：0ACH
;闪烁高亮白底蓝色：0F9H
;第一行welcome to masm所在位置范围： B800:0F00~0F9F
;第一个字节所在位置为28H，属性在29H

assume cs:code
	data segment
		db 'welcome to masm!'
	data ends

	code segment
		;定义段地址
		start:
		mov ax,data
		mov ds,ax

		;关联显示缓冲区到es寄存器
		mov ax,0b800h
		mov es,ax

		;初始化寄存器
		mov si,0
		mov bx,0
		
		;初始化计数器16
		mov cx,10h

	s:	mov bp,7a8h				;定位到显存缓冲区13行第40个字节位置，也就是第一个w要放的地方
		mov al,[bx]				;赋值ascii码给al
		mov ah,8ah				;赋值颜色属性给
		mov es:[bp+si],ax		;赋值给显示缓冲区 ascii码以及颜色

		mov ah,0ach				;赋值第二行的颜色给ah，al不变，因为同一列是相同的字母
		add bp,0a0h				;要显示字母的第二行
		mov es:[bp+si],ax		;赋值给要显示的第二行显示缓冲区 ascii码以及颜色

		mov ah,0f9h				;赋值第三行的颜色给ah，al不变，因为同一列是相同的字母
		add bp,0a0h				;要显示字母的第三行
		mov es:[bp+si],ax		;赋值给要显示的第三行显示缓冲区 ascii码以及颜色

		inc bx					;每一列完事之后,bx加1，在ds中定位到下一个字母
		add si,2				;显示缓冲区由于有颜色占一个字节，所以需要加2
		loop s

		mov ax,4c00h
		int 21h
	code ends

end start
```