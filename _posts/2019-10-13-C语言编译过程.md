---
layout: post
title:  "C语言编译过程"
date:   2019-10-13 22:33
categories: C语言
tags: C语言 原理
excerpt: 知识点记录
author: Pythonbug
mathjax: true
---

记述一下《C Primer Plus》这本书上讲的编译过程，觉得讲的非常透彻明白。
分享记录一下，假设有如下一个代码:
```
#include <stdio.h>
int main(void){
    printf("Dog don't eat dogs");
    return 0;
}
```
#### 第一步：编译器
>编译器的作用：将源码编译成机器码，但是呢，还不能直接运行。为啥，有人说，计算机不是认识机器码吗？这句话是对的。但是这个由编译器生产出来的机器码还不完善。
#### 第二步：链接器
>缺少库函数。看看上面的代码。里面有个printf，这玩意就是个函数。这玩意是别人写好的，公共的。所以大神们建了个库文件，一些常用的的函数就在这个库文件里面。我们一般人使用的时候，直接调用就行了。所以我们需要链接器来链接到库文件，将其拿过来，翻译成机器码。
>缺少启动代码。我就问问，现在谁还是直接在CPU上开发的。都是在操作系统之上吧，要么Linux，要么Windows。也就是说，我们的代码要去操控CPU，得先经给操作系统。那么我们就需要操作系统的相关代码，也就是启动代码。很明显，不同的操作系统的启动代码不一样。不过不用担心，链接器帮我们处理，我们在哪个系统下，就下载哪个系统的链接器。编译器产生的，就是直接可以在我们当前操作系统下，能运行的程序啦。
#### 小结：
>这就是C代码编译的过程。
#### 总结图：
![](https://github.com/pythonbug/myPictures/blob/master/C%E8%AF%AD%E8%A8%80%E7%BC%96%E8%AF%91%E8%BF%87%E7%A8%8B.png?raw=true)