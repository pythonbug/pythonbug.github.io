---
layout: post
title:  "Python中一个判断字符是否为空的失误"
date:   2019-09-05 22:13
categories: Python
tags: Python 纠错
excerpt: 错误知识点记录
author: Pythonbug
mathjax: true
---

## 原景重现
数据库中有个字段："延迟时长"，单位是秒：S，数据类型是double

我呢，需要对其进行一个判断，假如这个字段为空，我就返回为“未知”，大概代码如下：

```
if fieldname:
    return 'ok'
else:
    return '未知'
```
这么写就有问题了，因为假如这个字段为0.0，按照道理0.0不是空所以应该是返回'ok'，结果确返回了'未知'。

为什么呢。因为在python中0.0也是False。

而我之所以这么写是因为列表。。。

我们知道判断列表是否为空是可以这么写的，如下：
```
list_a = []
if list_a:
    print('列表不为空')
else:
    print('列表为空')
```

受这个影响，导致我对普通字符的判断也这样写了。

一定要注意，是有区别的！！！

引以为戒，只有列表才能这么判断是否为空。